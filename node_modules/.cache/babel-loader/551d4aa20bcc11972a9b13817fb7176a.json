{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nithin.DESKTOP-4GS3RPD\\\\Music\\\\synkd-kasturi\\\\synkd-kasturi\\\\src\\\\pages\\\\MiscUiComponents\\\\ProfileSettings.jsx\";\nimport React from \"react\";\n// import img1 from \"../../images/limg3.png\";\nimport { IonContent, IonItem, IonInput, IonButton, IonLabel, IonHeader, IonTitle, IonIcon, IonToast, IonToolbar } from \"@ionic/react\";\nimport { closeOutline } from \"ionicons/icons\";\nimport \"./Settings.css\";\nimport \"../SignUpPage.css\";\nvar fieldTitle = \"\";\nclass ProfileSettings extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      oldpassword: \"\",\n      newpassword: \"\",\n      cpassword: \"\",\n      username: JSON.parse(localStorage.getItem(\"username\"))\n    };\n  }\n  handleToast() {\n    this.setState({\n      show: !this.state.show\n    });\n  }\n  NextFn() {\n    var presult = false;\n    fieldTitle = \"\";\n    if (!this.state.oldpassword || !this.state.newpassword || !this.state.cpassword) {\n      fieldTitle = \"All fields are required\";\n      this.handleToast();\n    } else {\n      if (this.state.cpassword !== this.state.newpassword) {\n        fieldTitle = \"Passwords do not match\";\n        this.handleToast();\n      } else {\n        if (this.state.newpassword.length < 6) {\n          fieldTitle = \"Password must be at least 6 characters in length.\";\n          this.handleToast();\n        } else {\n          presult = true;\n        }\n      }\n    }\n    var data = this.state;\n    if (presult === true) {\n      console.log(\"state:\" + JSON.stringify(data));\n      fetch(\"https://clickademy.in/user/change-password\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(result => {\n        if (result.status === 200) {\n          result.json().then(resp => {\n            console.log(resp);\n            fieldTitle = resp.message;\n            this.handleToast();\n            this.props.onDidDismiss(true);\n          }).catch(error => {\n            console.log(\"Json parse error\", error);\n            fieldTitle = \"Server Error.\";\n            this.handleToast();\n          });\n        } else {\n          console.log(result);\n          result.json().then(res => {\n            console.log(res.message);\n            fieldTitle = res.message === undefined ? \"Server Issue.\" : res.message;\n            this.handleToast();\n          });\n        }\n      });\n    }\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(IonContent, null, /*#__PURE__*/React.createElement(IonHeader, {\n      className: \"ion-no-border\"\n    }, /*#__PURE__*/React.createElement(IonToolbar, {\n      mode: \"ios\"\n    }, /*#__PURE__*/React.createElement(IonTitle, {\n      slot: \"secondary\"\n    }, \"Change Password\"), /*#__PURE__*/React.createElement(IonButton, {\n      slot: \"end\",\n      size: \"large\",\n      fill: \"clear\",\n      onClick: () => this.props.onDidDismiss(true)\n    }, /*#__PURE__*/React.createElement(IonIcon, {\n      icon: closeOutline,\n      color: \"dark\"\n    }))), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"desc\"\n    }, \"Please enter the following details\")), /*#__PURE__*/React.createElement(IonItem, {\n      className: \"email_field\"\n    }, /*#__PURE__*/React.createElement(IonInput, {\n      style: {\n        marginTop: \"3rem\"\n      },\n      className: \"ion_input1\",\n      placeholder: \"Old Password\",\n      type: \"password\",\n      inputMode: \"email\",\n      maxlength: \"70\",\n      required: \"true\",\n      value: this.state.oldpassword,\n      onIonChange: data => {\n        this.setState({\n          oldpassword: data.target.value\n        });\n        console.log(this.state.oldpassword);\n      }\n    })), /*#__PURE__*/React.createElement(IonItem, {\n      className: \"email_field\"\n    }, /*#__PURE__*/React.createElement(IonInput, {\n      className: \"ion_input1\",\n      placeholder: \"New Password\",\n      type: \"password\",\n      inputMode: \"email\",\n      maxlength: \"70\",\n      required: \"true\",\n      value: this.state.newpassword,\n      onIonChange: data => {\n        this.setState({\n          newpassword: data.target.value\n        });\n        console.log(this.state.newpassword);\n      }\n    })), /*#__PURE__*/React.createElement(IonItem, {\n      className: \"email_field\"\n    }, /*#__PURE__*/React.createElement(IonInput, {\n      className: \"ion_input1\",\n      placeholder: \"Confirm Password\",\n      type: \"password\",\n      inputMode: \"email\",\n      maxlength: \"70\",\n      required: \"true\",\n      value: this.state.cpassword,\n      onIonChange: data => {\n        this.setState({\n          cpassword: data.target.value\n        });\n        console.log(this.state.cpassword);\n      }\n    })), /*#__PURE__*/React.createElement(IonButton, {\n      className: \"button_change_pwd\",\n      buttonType: \"button\",\n      shape: \"round\",\n      size: \"default\",\n      color: \"dark\",\n      onClick: () => {\n        this.NextFn();\n      }\n    }, \"Change Password\"), /*#__PURE__*/React.createElement(IonToast, {\n      isOpen: this.state.show,\n      onDidDismiss: () => this.handleToast(),\n      message: fieldTitle,\n      duration: 3000\n    }));\n  }\n}\nexport default ProfileSettings;","map":{"version":3,"names":["React","IonContent","IonItem","IonInput","IonButton","IonLabel","IonHeader","IonTitle","IonIcon","IonToast","IonToolbar","closeOutline","fieldTitle","ProfileSettings","Component","constructor","props","state","oldpassword","newpassword","cpassword","username","JSON","parse","localStorage","getItem","handleToast","setState","show","NextFn","presult","length","data","console","log","stringify","fetch","method","headers","body","then","result","status","json","resp","message","onDidDismiss","catch","error","res","undefined","render","marginTop","target","value"],"sources":["C:/Users/Nithin.DESKTOP-4GS3RPD/Music/synkd-kasturi/synkd-kasturi/src/pages/MiscUiComponents/ProfileSettings.jsx"],"sourcesContent":["import React from \"react\";\n// import img1 from \"../../images/limg3.png\";\nimport {\n  \n  IonContent,\n  IonItem,\n  IonInput,\n  IonButton,\n  IonLabel,\n  IonHeader,\n  IonTitle,\n  IonIcon,\n  IonToast,\n  IonToolbar,\n} from \"@ionic/react\";\nimport {closeOutline} from \"ionicons/icons\"\nimport  \"./Settings.css\";\nimport \"../SignUpPage.css\";\n\nvar fieldTitle = \"\";\n\nclass ProfileSettings extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      oldpassword: \"\",\n      newpassword: \"\",\n      cpassword: \"\",\n      username: JSON.parse(localStorage.getItem(\"username\")),\n    };\n  }\n\n  handleToast() {\n    this.setState({\n      show: !this.state.show,\n    });\n  }\n\n  NextFn() {\n    var presult = false;\n    fieldTitle = \"\";\n    if (\n          !this.state.oldpassword ||\n          !this.state.newpassword ||\n          !this.state.cpassword\n        ) \n    {\n      fieldTitle = \"All fields are required\";\n      this.handleToast();\n    } else {\n      if (this.state.cpassword !== this.state.newpassword) {\n        fieldTitle = \"Passwords do not match\";\n        this.handleToast();\n      } else {\n        if(this.state.newpassword.length < 6){\n          fieldTitle = \"Password must be at least 6 characters in length.\";\n          this.handleToast();\n        }else{presult = true;}\n      }\n    }\n    var data = this.state;\n    if (presult === true) {\n      console.log(\"state:\"+JSON.stringify(data));\n      fetch(\"https://clickademy.in/user/change-password\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(data),\n      }).then((result) => {\n      \n        if(result.status === 200){\n        result.json()\n          .then((resp) => {\n              \n              console.log(resp);\n              fieldTitle = resp.message;\n              this.handleToast();\n              this.props.onDidDismiss(true);\n           \n          }).catch((error) => {\n            \n            console.log(\"Json parse error\", error);\n            fieldTitle = \"Server Error.\";\n              this.handleToast();\n          });\n        }else{\n          console.log(result);\n          result.json().then((res) =>{\n            console.log(res.message);\n        \n            fieldTitle = res.message===undefined?\"Server Issue.\":res.message;\n            this.handleToast();\n            \n          });\n          \n        }\n       \n\n      });\n    }\n  }\n\n  render() {\n    return (\n        <IonContent>\n          \n          <IonHeader className=\"ion-no-border\">\n\n            <IonToolbar mode=\"ios\">\n            <IonTitle slot=\"secondary\" >Change Password</IonTitle>\n            <IonButton slot=\"end\" size=\"large\"  fill=\"clear\"\n            onClick={() => this.props.onDidDismiss(true)}>\n            <IonIcon icon={closeOutline} color=\"dark\"></IonIcon>\n            </IonButton>\n            </IonToolbar>\n           \n            \n           \n          <p className=\"desc\">\n           Please enter the following details\n          </p>\n       \n          </IonHeader>\n          <IonItem className=\"email_field\">\n            <IonInput\n              style={{ marginTop: \"3rem\" }}\n              className=\"ion_input1\"\n              placeholder=\"Old Password\"\n              type=\"password\"\n              inputMode=\"email\"\n              maxlength=\"70\"\n              required=\"true\"\n              value={this.state.oldpassword}\n              onIonChange={(data) => {\n                this.setState({ oldpassword: data.target.value });\n                console.log(this.state.oldpassword);\n              }}\n            ></IonInput>\n          </IonItem>\n          <IonItem className=\"email_field\">\n            <IonInput\n              className=\"ion_input1\"\n              placeholder=\"New Password\"\n              type=\"password\"\n              inputMode=\"email\"\n              maxlength=\"70\"\n              required=\"true\"\n              value={this.state.newpassword}\n              onIonChange={(data) => {\n                this.setState({ newpassword: data.target.value });\n                console.log(this.state.newpassword);\n              }}\n            ></IonInput>\n          </IonItem>\n          <IonItem className=\"email_field\">\n            <IonInput\n              className=\"ion_input1\"\n              placeholder=\"Confirm Password\"\n              type=\"password\"\n              inputMode=\"email\"\n              maxlength=\"70\"\n              required=\"true\"\n              value={this.state.cpassword}\n              onIonChange={(data) => {\n                this.setState({ cpassword: data.target.value });\n                console.log(this.state.cpassword);\n              }}\n            ></IonInput>\n          </IonItem>\n          \n            <IonButton\n              className=\"button_change_pwd\"\n              buttonType=\"button\"\n              shape=\"round\"\n              size=\"default\"\n              color=\"dark\"\n              onClick={() => {\n                this.NextFn();\n              }}\n            >\n              Change Password\n            </IonButton>\n           <IonToast\n            isOpen={this.state.show}\n            onDidDismiss={() => this.handleToast()}\n            message={fieldTitle}\n            duration={3000}\n          /> \n        </IonContent>\n      \n    );\n  }\n}\n\nexport default ProfileSettings;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}