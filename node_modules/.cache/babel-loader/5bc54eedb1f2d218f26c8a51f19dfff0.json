{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { WebPlugin } from './index';\nvar StoragePluginWeb = /** @class */function (_super) {\n  __extends(StoragePluginWeb, _super);\n  function StoragePluginWeb() {\n    var _this = _super.call(this, {\n      name: 'Storage',\n      platforms: ['web']\n    }) || this;\n    _this.KEY_PREFIX = '_cap_';\n    return _this;\n  }\n  StoragePluginWeb.prototype.get = function (options) {\n    var _this = this;\n    return new Promise(function (resolve, _reject) {\n      resolve({\n        value: window.localStorage.getItem(_this.makeKey(options.key))\n      });\n    });\n  };\n  StoragePluginWeb.prototype.set = function (options) {\n    var _this = this;\n    return new Promise(function (resolve, _reject) {\n      window.localStorage.setItem(_this.makeKey(options.key), options.value);\n      resolve();\n    });\n  };\n  StoragePluginWeb.prototype.remove = function (options) {\n    var _this = this;\n    return new Promise(function (resolve, _reject) {\n      window.localStorage.removeItem(_this.makeKey(options.key));\n      resolve();\n    });\n  };\n  StoragePluginWeb.prototype.keys = function () {\n    var _this = this;\n    return new Promise(function (resolve, _reject) {\n      resolve({\n        keys: Object.keys(localStorage).filter(function (k) {\n          return _this.isKey(k);\n        }).map(function (k) {\n          return _this.getKey(k);\n        })\n      });\n    });\n  };\n  StoragePluginWeb.prototype.clear = function () {\n    var _this = this;\n    return new Promise(function (resolve, _reject) {\n      Object.keys(localStorage).filter(function (k) {\n        return _this.isKey(k);\n      }).forEach(function (k) {\n        return window.localStorage.removeItem(k);\n      });\n      resolve();\n    });\n  };\n  StoragePluginWeb.prototype.makeKey = function (key) {\n    return this.KEY_PREFIX + key;\n  };\n  StoragePluginWeb.prototype.isKey = function (key) {\n    return key.indexOf(this.KEY_PREFIX) === 0;\n  };\n  StoragePluginWeb.prototype.getKey = function (key) {\n    return key.substr(this.KEY_PREFIX.length);\n  };\n  return StoragePluginWeb;\n}(WebPlugin);\nexport { StoragePluginWeb };\nvar Storage = new StoragePluginWeb();\nexport { Storage };","map":{"version":3,"sources":["../../../src/web/storage.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { __extends } from \"tslib\";\nimport { WebPlugin } from './index';\nvar StoragePluginWeb = /** @class */ (function (_super) {\n    __extends(StoragePluginWeb, _super);\n    function StoragePluginWeb() {\n        var _this = _super.call(this, {\n            name: 'Storage',\n            platforms: ['web']\n        }) || this;\n        _this.KEY_PREFIX = '_cap_';\n        return _this;\n    }\n    StoragePluginWeb.prototype.get = function (options) {\n        var _this = this;\n        return new Promise(function (resolve, _reject) {\n            resolve({\n                value: window.localStorage.getItem(_this.makeKey(options.key))\n            });\n        });\n    };\n    StoragePluginWeb.prototype.set = function (options) {\n        var _this = this;\n        return new Promise(function (resolve, _reject) {\n            window.localStorage.setItem(_this.makeKey(options.key), options.value);\n            resolve();\n        });\n    };\n    StoragePluginWeb.prototype.remove = function (options) {\n        var _this = this;\n        return new Promise(function (resolve, _reject) {\n            window.localStorage.removeItem(_this.makeKey(options.key));\n            resolve();\n        });\n    };\n    StoragePluginWeb.prototype.keys = function () {\n        var _this = this;\n        return new Promise(function (resolve, _reject) {\n            resolve({\n                keys: Object.keys(localStorage).filter(function (k) { return _this.isKey(k); }).map(function (k) { return _this.getKey(k); })\n            });\n        });\n    };\n    StoragePluginWeb.prototype.clear = function () {\n        var _this = this;\n        return new Promise(function (resolve, _reject) {\n            Object.keys(localStorage)\n                .filter(function (k) { return _this.isKey(k); })\n                .forEach(function (k) { return window.localStorage.removeItem(k); });\n            resolve();\n        });\n    };\n    StoragePluginWeb.prototype.makeKey = function (key) {\n        return this.KEY_PREFIX + key;\n    };\n    StoragePluginWeb.prototype.isKey = function (key) {\n        return key.indexOf(this.KEY_PREFIX) === 0;\n    };\n    StoragePluginWeb.prototype.getKey = function (key) {\n        return key.substr(this.KEY_PREFIX.length);\n    };\n    return StoragePluginWeb;\n}(WebPlugin));\nexport { StoragePluginWeb };\nvar Storage = new StoragePluginWeb();\nexport { Storage };\n//# sourceMappingURL=storage.js.map"]},"metadata":{},"sourceType":"module"}