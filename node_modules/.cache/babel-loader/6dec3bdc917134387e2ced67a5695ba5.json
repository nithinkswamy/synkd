{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nithin.DESKTOP-4GS3RPD\\\\Music\\\\synkd-kasturi\\\\synkd-kasturi\\\\src\\\\pages\\\\Room\\\\UI\\\\AddToGroupModal.jsx\";\nimport React from \"react\";\nimport { IonContent, IonToast, IonToolbar, IonButton, IonTitle, IonIcon, IonModal, IonHeader } from \"@ionic/react\";\nimport { arrowBack } from \"ionicons/icons\";\nimport { withRouter } from \"react-router-dom\";\nimport GroupGrid from \"../../Groups/UI/GroupGrid\";\nimport { addToGroup } from \"../../ServerRequests/globalApi\";\nclass AddToGroupModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      groups: [],\n      groupsLoaded: false,\n      showToast: false,\n      toastMsg: \"\"\n    };\n  }\n  async addToGroup(groupid, mac, slotnumber) {\n    console.log(\"Slotnumber:\" + slotnumber);\n    var data = JSON.stringify({\n      groupid: groupid,\n      mac: mac,\n      slotnumber: slotnumber\n    });\n    const response = await addToGroup(data);\n    if (response !== undefined) {\n      console.log(response);\n      switch (response[0].status) {\n        case 200:\n          this.props.onDidDismiss(true, \"Device added to group.\");\n          break;\n        case 409:\n          this.setState({\n            showToast: true,\n            toastMsg: \"Group has selected device. Pick another one.\"\n          });\n          break;\n        default:\n          this.setState({\n            showToast: true,\n            toastMsg: \"Server Error.\"\n          });\n          break;\n      }\n    } else {\n      console.log(\"Could not add device to group\");\n      this.props.onDidDismiss(false, \"Could not add device to group\");\n    }\n  }\n  render() {\n    let mac = this.props.mac;\n    let slotnumber = this.props.slotnumber;\n    return /*#__PURE__*/React.createElement(IonModal, {\n      isOpen: this.props.isOpen,\n      swipeToClose: true,\n      onDidDismiss: () => this.setState(() => ({\n        isOpen: false,\n        groupsLoaded: false\n      })),\n      style: {\n        height: \"30px\",\n        width: \"100%\",\n        paddingTop: \"5px\"\n      }\n    }, /*#__PURE__*/React.createElement(IonHeader, {\n      class: \"ion-no-border\"\n    }, /*#__PURE__*/React.createElement(IonToolbar, {\n      mode: \"ios\"\n    }, /*#__PURE__*/React.createElement(IonButton, {\n      slot: \"start\",\n      fill: \"clear\",\n      color: \"dark\",\n      onClick: () => this.props.onDidDismiss(false, \"\")\n    }, /*#__PURE__*/React.createElement(IonIcon, {\n      icon: arrowBack,\n      size: \"medium\"\n    })), /*#__PURE__*/React.createElement(IonTitle, {\n      slot: \"secondary\"\n    }, \"PICK A GROUP\"))), /*#__PURE__*/React.createElement(IonContent, null, /*#__PURE__*/React.createElement(GroupGrid, {\n      isShortPressed: group => this.addToGroup(group._id, mac, slotnumber),\n      isLongPressed: () => {},\n      groups: () => this.setState(() => ({\n        groupsLoaded: true\n      })),\n      reload: !this.state.groupsLoaded,\n      shouldSetState: false,\n      didSetState: () => {},\n      isRetrievingState: () => {}\n    })), /*#__PURE__*/React.createElement(IonToast, {\n      isOpen: this.state.showToast,\n      onDidDismiss: () => {\n        this.setState(() => ({\n          showToast: false\n        }));\n      },\n      message: this.state.toastMsg,\n      duration: 3000\n    }));\n  }\n}\nexport default withRouter(AddToGroupModal);","map":{"version":3,"names":["React","IonContent","IonToast","IonToolbar","IonButton","IonTitle","IonIcon","IonModal","IonHeader","arrowBack","withRouter","GroupGrid","addToGroup","AddToGroupModal","Component","constructor","props","state","groups","groupsLoaded","showToast","toastMsg","groupid","mac","slotnumber","console","log","data","JSON","stringify","response","undefined","status","onDidDismiss","setState","render","isOpen","height","width","paddingTop","group","_id"],"sources":["C:/Users/Nithin.DESKTOP-4GS3RPD/Music/synkd-kasturi/synkd-kasturi/src/pages/Room/UI/AddToGroupModal.jsx"],"sourcesContent":["import React from \"react\";\n\nimport { IonContent, IonToast, IonToolbar, IonButton, IonTitle, IonIcon, IonModal, IonHeader } from \"@ionic/react\";\nimport { arrowBack } from \"ionicons/icons\";\nimport { withRouter  } from \"react-router-dom\";\nimport GroupGrid from \"../../Groups/UI/GroupGrid\"\nimport {addToGroup} from \"../../ServerRequests/globalApi\"\n\n\n\nclass AddToGroupModal extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state={\n      groups: [],\n      groupsLoaded: false,\n      showToast: false,\n      toastMsg: \"\"\n    }\n  }\n\n\n  async addToGroup(groupid, mac, slotnumber){\n    console.log(\"Slotnumber:\"+slotnumber);\n    var data = JSON.stringify({groupid: groupid, mac: mac, slotnumber: slotnumber});\n\n\n    const response = await addToGroup(data);\n    if(response !== undefined){\n      console.log(response);\n      switch(response[0].status){\n\n        case 200:\n        \n        this.props.onDidDismiss(true, \"Device added to group.\");\n        break;\n\n        case 409:\n          this.setState({showToast: true,\n             toastMsg: \"Group has selected device. Pick another one.\"});\n          break;\n\n          default:\n            this.setState({showToast: true,\n              toastMsg: \"Server Error.\"});\n            break;\n\n      }\n\n      \n      } else{console.log(\"Could not add device to group\"); this.props.onDidDismiss(false, \"Could not add device to group\");}\n\n\n    \n  }\n\n  \n  \n\n\nrender(){\n   \n\n   \n    let mac = this.props.mac;\n    let slotnumber= this.props.slotnumber;\n    \n    \n    return(\n        <IonModal\n        isOpen={this.props.isOpen}\n        swipeToClose={true}\n        onDidDismiss={() => this.setState(() => ({isOpen: false, groupsLoaded: false}) )}\n        style={{  height: \"30px\", width: \"100%\", paddingTop: \"5px\" }}>\n         <IonHeader class=\"ion-no-border\">\n                 <IonToolbar  mode=\"ios\" >\n                  <IonButton slot=\"start\"\n                             fill=\"clear\"\n                             color=\"dark\"\n                             onClick={() => this.props.onDidDismiss(false, \"\")}\n                             >\n        \n                            <IonIcon\n                              icon={arrowBack}\n                              size=\"medium\"\n                             />\n                  \n                  </IonButton>\n                  <IonTitle slot=\"secondary\">PICK A GROUP</IonTitle>\n                  </IonToolbar>\n            </IonHeader>\n       \n        <IonContent>\n          <GroupGrid \n            isShortPressed={(group) => this.addToGroup( group._id, mac, slotnumber)}\n            isLongPressed={() =>{}}\n            groups={() =>this.setState(() =>({groupsLoaded: true})) }\n            reload={!this.state.groupsLoaded}\n            shouldSetState={false}\n            didSetState={()=>{}}\n            isRetrievingState={()=>{}}\n            />\n        </IonContent>\n        <IonToast\n            isOpen={this.state.showToast}\n            onDidDismiss={() => {this.setState(() => ({showToast: false}))}}\n            message={this.state.toastMsg}\n            duration={3000}\n          />\n    </IonModal>\n    );\n    \n    \n\n}\n\n\n}\n\nexport default withRouter(AddToGroupModal);"],"mappings":"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"},"metadata":{},"sourceType":"module"}