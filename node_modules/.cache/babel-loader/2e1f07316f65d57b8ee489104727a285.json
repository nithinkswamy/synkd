{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { WebPlugin } from './index';\nimport { extend } from '../util';\nvar GeolocationPluginWeb = /** @class */function (_super) {\n  __extends(GeolocationPluginWeb, _super);\n  function GeolocationPluginWeb() {\n    return _super.call(this, {\n      name: 'Geolocation',\n      platforms: ['web']\n    }) || this;\n  }\n  GeolocationPluginWeb.prototype.getCurrentPosition = function (options) {\n    var _this = this;\n    return new Promise(function (resolve, reject) {\n      return _this.requestPermissions().then(function (_result) {\n        window.navigator.geolocation.getCurrentPosition(function (pos) {\n          resolve(pos);\n        }, function (err) {\n          reject(err);\n        }, extend({\n          enableHighAccuracy: true,\n          timeout: 10000,\n          maximumAge: 0\n        }, options));\n      });\n    });\n  };\n  GeolocationPluginWeb.prototype.watchPosition = function (options, callback) {\n    var id = window.navigator.geolocation.watchPosition(function (pos) {\n      callback(pos);\n    }, function (err) {\n      callback(null, err);\n    }, extend({\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 0\n    }, options));\n    return \"\" + id;\n  };\n  GeolocationPluginWeb.prototype.clearWatch = function (options) {\n    window.navigator.geolocation.clearWatch(parseInt(options.id, 10));\n    return Promise.resolve();\n  };\n  return GeolocationPluginWeb;\n}(WebPlugin);\nexport { GeolocationPluginWeb };\nvar Geolocation = new GeolocationPluginWeb();\nexport { Geolocation };","map":{"version":3,"sources":["../../../src/web/geolocation.ts"],"names":[],"mappings":";AAAA,SAAS,SAAS,QAAQ,SAAS;AAWnC,SAAS,MAAM,QAAQ,SAAS;AAEhC,IAAA,oBAAA,GAAA,aAAA,UAAA,MAAA,EAAA;EAA0C,SAAA,CAAA,oBAAA,EAAA,MAAA,CAAA;EACxC,SAAA,oBAAA,GAAA;WACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM;MACJ,IAAI,EAAE,aAAa;MACnB,SAAS,EAAE,CAAC,KAAK;KAClB,CAAC,IAAA,IAAA;EACJ;EAEA,oBAAA,CAAA,SAAA,CAAA,kBAAkB,GAAlB,UAAmB,OAA4B,EAAA;IAA/C,IAAA,KAAA,GAAA,IAAA;IACE,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM,EAAA;MACjC,OAAO,KAAI,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,UAAC,OAAiC,EAAA;QACtE,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,kBAAkB,CAAC,UAAC,GAAG,EAAA;UAClD,OAAO,CAAC,GAAG,CAAC;QACd,CAAC,EAAE,UAAC,GAAG,EAAA;UACL,MAAM,CAAC,GAAG,CAAC;QACb,CAAC,EAAE,MAAM,CAAC;UACR,kBAAkB,EAAE,IAAI;UACxB,OAAO,EAAE,KAAK;UACd,UAAU,EAAE;SACb,EAAE,OAAO,CAAC,CAAC;MACd,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAED,oBAAA,CAAA,SAAA,CAAA,aAAa,GAAb,UAAc,OAA2B,EAAE,QAAkC,EAAA;IAC3E,IAAI,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,aAAa,CAAC,UAAC,GAAG,EAAA;MACtD,QAAQ,CAAC,GAAG,CAAC;IACf,CAAC,EAAE,UAAC,GAAG,EAAA;MACL,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC;IACrB,CAAC,EAAE,MAAM,CAAC;MACR,kBAAkB,EAAE,IAAI;MACxB,OAAO,EAAE,KAAK;MACd,UAAU,EAAE;KACb,EAAE,OAAO,CAAC,CAAC;IAEZ,OAAO,EAAA,GAAG,EAAI;EAChB,CAAC;EAED,oBAAA,CAAA,SAAA,CAAA,UAAU,GAAV,UAAW,OAAuB,EAAA;IAChC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IACjE,OAAO,OAAO,CAAC,OAAO,EAAE;EAC1B,CAAC;EACH,OAAA,oBAAC;AAAD,CAAC,CA1CyC,SAAS,CAAA;;AA4CnD,IAAM,WAAW,GAAG,IAAI,oBAAoB,EAAE;AAE9C,SAAS,WAAW","sourceRoot":"","sourcesContent":["import { __extends } from \"tslib\";\nimport { WebPlugin } from './index';\nimport { extend } from '../util';\nvar GeolocationPluginWeb = /** @class */ (function (_super) {\n    __extends(GeolocationPluginWeb, _super);\n    function GeolocationPluginWeb() {\n        return _super.call(this, {\n            name: 'Geolocation',\n            platforms: ['web']\n        }) || this;\n    }\n    GeolocationPluginWeb.prototype.getCurrentPosition = function (options) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            return _this.requestPermissions().then(function (_result) {\n                window.navigator.geolocation.getCurrentPosition(function (pos) {\n                    resolve(pos);\n                }, function (err) {\n                    reject(err);\n                }, extend({\n                    enableHighAccuracy: true,\n                    timeout: 10000,\n                    maximumAge: 0\n                }, options));\n            });\n        });\n    };\n    GeolocationPluginWeb.prototype.watchPosition = function (options, callback) {\n        var id = window.navigator.geolocation.watchPosition(function (pos) {\n            callback(pos);\n        }, function (err) {\n            callback(null, err);\n        }, extend({\n            enableHighAccuracy: true,\n            timeout: 10000,\n            maximumAge: 0\n        }, options));\n        return \"\" + id;\n    };\n    GeolocationPluginWeb.prototype.clearWatch = function (options) {\n        window.navigator.geolocation.clearWatch(parseInt(options.id, 10));\n        return Promise.resolve();\n    };\n    return GeolocationPluginWeb;\n}(WebPlugin));\nexport { GeolocationPluginWeb };\nvar Geolocation = new GeolocationPluginWeb();\nexport { Geolocation };\n//# sourceMappingURL=geolocation.js.map"]},"metadata":{},"sourceType":"module"}