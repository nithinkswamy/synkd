{"ast":null,"code":"import { __awaiter, __extends, __generator } from \"tslib\";\nimport { WebPlugin } from './index';\nimport { PermissionType } from '../core-plugin-definitions';\nvar PermissionsPluginWeb = /** @class */function (_super) {\n  __extends(PermissionsPluginWeb, _super);\n  function PermissionsPluginWeb() {\n    return _super.call(this, {\n      name: 'Permissions'\n    }) || this;\n  }\n  PermissionsPluginWeb.prototype.query = function (options) {\n    return __awaiter(this, void 0, void 0, function () {\n      var navigator, name, ret;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            navigator = window.navigator;\n            if (!navigator.permissions) {\n              return [2 /*return*/, Promise.reject('This browser does not support the Permissions API')];\n            }\n            name = options.name === PermissionType.Photos ? 'camera' : options.name;\n            return [4 /*yield*/, navigator.permissions.query({\n              name: name\n            })];\n          case 1:\n            ret = _a.sent();\n            return [2 /*return*/, {\n              state: ret.state\n            }];\n        }\n      });\n    });\n  };\n  return PermissionsPluginWeb;\n}(WebPlugin);\nexport { PermissionsPluginWeb };\nvar Permissions = new PermissionsPluginWeb();\nexport { Permissions };","map":{"version":3,"sources":["../../../src/web/permissions.ts"],"names":[],"mappings":";AAAA,SAAS,SAAS,QAAQ,SAAS;AAEnC,SAC2D,cAAc,QAClE,4BAA4B;AAEnC,IAAA,oBAAA,GAAA,aAAA,UAAA,MAAA,EAAA;EAA0C,SAAA,CAAA,oBAAA,EAAA,MAAA,CAAA;EACxC,SAAA,oBAAA,GAAA;WACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM;MACJ,IAAI,EAAE;KACP,CAAC,IAAA,IAAA;EACJ;EAEM,oBAAA,CAAA,SAAA,CAAA,KAAK,GAAX,UAAY,OAA2B,EAAA;;;;;;YAC/B,SAAS,GAAG,MAAM,CAAC,SAAgB;YAEzC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE;cAC1B,OAAA,CAAA,CAAA,CAAA,YAAO,OAAO,CAAC,MAAM,CAAC,mDAAmD,CAAC,CAAA;YAC3E;YAIK,IAAI,GAAG,OAAO,CAAC,IAAI,KAAK,cAAc,CAAC,MAAM,GAAG,QAAQ,GAAG,OAAO,CAAC,IAAI;YAEjE,OAAA,CAAA,CAAA,CAAA,WAAM,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC;cAAE,IAAI,EAAA;YAAA,CAAE,CAAC,CAAA;;YAAjD,GAAG,GAAG,EAAA,CAAA,IAAA,EAA2C;YAEvD,OAAA,CAAA,CAAA,CAAA,YAAO;cACL,KAAK,EAAE,GAAG,CAAC;aACZ,CAAA;QAAC;;;GACH;EACH,OAAA,oBAAC;AAAD,CAAC,CAxByC,SAAS,CAAA;;AA0BnD,IAAM,WAAW,GAAG,IAAI,oBAAoB,EAAE;AAE9C,SAAS,WAAW","sourceRoot":"","sourcesContent":["import { __awaiter, __extends, __generator } from \"tslib\";\nimport { WebPlugin } from './index';\nimport { PermissionType } from '../core-plugin-definitions';\nvar PermissionsPluginWeb = /** @class */ (function (_super) {\n    __extends(PermissionsPluginWeb, _super);\n    function PermissionsPluginWeb() {\n        return _super.call(this, {\n            name: 'Permissions'\n        }) || this;\n    }\n    PermissionsPluginWeb.prototype.query = function (options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var navigator, name, ret;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        navigator = window.navigator;\n                        if (!navigator.permissions) {\n                            return [2 /*return*/, Promise.reject('This browser does not support the Permissions API')];\n                        }\n                        name = options.name === PermissionType.Photos ? 'camera' : options.name;\n                        return [4 /*yield*/, navigator.permissions.query({ name: name })];\n                    case 1:\n                        ret = _a.sent();\n                        return [2 /*return*/, {\n                                state: ret.state\n                            }];\n                }\n            });\n        });\n    };\n    return PermissionsPluginWeb;\n}(WebPlugin));\nexport { PermissionsPluginWeb };\nvar Permissions = new PermissionsPluginWeb();\nexport { Permissions };\n//# sourceMappingURL=permissions.js.map"]},"metadata":{},"sourceType":"module"}